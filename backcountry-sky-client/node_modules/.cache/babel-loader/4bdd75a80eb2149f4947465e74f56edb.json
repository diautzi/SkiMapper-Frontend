{"ast":null,"code":"var _jsxFileName = \"/Users/dia_utzi/Documents/Development/finalProject/backcountry_sky_mapper/frontend/backcountry-sky-client/src/components/Profile.js\";\nimport React, { Component } from \"react\";\nimport style from \"../App.css\";\nimport { Button, Card, Image } from \"semantic-ui-react\";\nimport TrailDetails from \"../components/TrailDetails\";\n\nclass Profile extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      myTrails: []\n    };\n\n    this.difficulty = () => {\n      let level;\n\n      if (this.state.myTrails.difficulty === \"blue\") {\n        level = \"Blue\";\n      } else if (this.state.trail.difficulty === \"greenBlue\") {\n        level = \"Intermediate Green\";\n      } else if (this.state.trail.difficulty === \"blueBlack\") {\n        level = \"Intermediate Blue\";\n      } else if (this.state.trail.difficulty === \"black\") {\n        level = \"Black ðŸ”·\";\n      } else if (this.state.trail.difficulty === \"dblack\") {\n        level = \"Double Black ðŸ”·\";\n      } else if (this.state.trail.difficulty === \"green\") {\n        level = \"Easy\";\n      } else {\n        level = \"N/A\";\n      }\n\n      return level;\n    };\n\n    this.createdAt = date => {\n      let d = new Date(date);\n      let monthNames = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n      let day = d.getDate();\n      let monthIndex = d.getMonth();\n      let year = d.getFullYear();\n      return day + ' ' + monthNames[monthIndex] + ' ' + year;\n    };\n\n    this.deleteAccount = userId => {\n      let id = userId;\n      id = \"\".concat(this.props.currentUser.id);\n      console.log(id);\n      fetch(\"http://localhost:3000/api/v1/users/\".concat(id), {\n        method: \"DELETE\",\n        headers: {\n          'Content-Type': \"application/json\",\n          'Accept': \"application/json\"\n        },\n        body: JSON.stringify({\n          id: id\n        })\n      }).then(resp => resp.json()).then(data => this.props.logout(data));\n      this.props.history.push(\"/login\");\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:3000/api/v1/completed_trails\").then(resp => resp.json()).then(favTrails => this.setState({\n      myTrails: favTrails.filter(trail => trail.user_id == this.props.currentUser.id)\n    }));\n  }\n\n  // displayFavoriteTrail = () => {\n  //   {this.state.myTrails.map(data =>\n  //     <Card>\n  //       <Image src=`${data.trail_image}` wrapped ui={false} />\n  //       <Card.Content>\n  //         <Card.Header>{data.trail_name}</Card.Header>\n  //         <Card.Meta>Joined in 2016</Card.Meta>\n  //         <Card.Description>\n  //           Daniel is a comedian living in Nashville.\n  //         </Card.Description>\n  //       </Card.Content>\n  //     </Card>\n  //   )}\n  // }\n  render() {\n    console.log(this.props.currentUser);\n    console.log(this.state.myTrails);\n    const currentUser = this.props.currentUser;\n    let userImage;\n\n    if (!!currentUser.image) {\n      userImage = currentUser.image;\n    } else {\n      userImage = process.env.PUBLIC_URL + '/images/no_image.png';\n    }\n\n    return React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"profile-container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"profile-pic\",\n      src: userImage,\n      alt: \"Add-a-profile-pic\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"user-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }, currentUser.name), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"user-location\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }, \" \\uD83C\\uDF0E \", currentUser.location, \" \"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"user-registration-date\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Member since: \", this.createdAt(currentUser.created_at)), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }), React.createElement(Card.Content, {\n      extra: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"ui two buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 114\n      },\n      __self: this\n    }, React.createElement(Button, {\n      basic: true,\n      color: \"green\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }, \"Update Account\"), React.createElement(Button, {\n      basic: true,\n      color: \"red\",\n      onClick: e => this.deleteAccount(e),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, \"Delete Account\"))), React.createElement(\"h3\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123\n      },\n      __self: this\n    }, \"My favorite Trails\")))), this.state.myTrails.map(data => React.createElement(\"div\", {\n      class: \"ui centered card\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(Card, {\n      image: data.trail_image,\n      header: data.trail_name,\n      meta: this.difficulty(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }), React.createElement(Button, {\n      inverted: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \" Delete \"))));\n  }\n\n}\n\nexport default Profile;","map":{"version":3,"sources":["/Users/dia_utzi/Documents/Development/finalProject/backcountry_sky_mapper/frontend/backcountry-sky-client/src/components/Profile.js"],"names":["React","Component","style","Button","Card","Image","TrailDetails","Profile","state","myTrails","difficulty","level","trail","createdAt","date","d","Date","monthNames","day","getDate","monthIndex","getMonth","year","getFullYear","deleteAccount","userId","id","props","currentUser","console","log","fetch","method","headers","body","JSON","stringify","then","resp","json","data","logout","history","push","componentDidMount","favTrails","setState","filter","user_id","render","userImage","image","process","env","PUBLIC_URL","textAlign","name","location","created_at","e","map","trail_image","trail_name"],"mappings":"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","sourcesContent":["\nimport React, { Component } from \"react\";\nimport style from \"../App.css\";\nimport { Button, Card, Image } from \"semantic-ui-react\"\nimport TrailDetails from \"../components/TrailDetails\"\n\nclass Profile extends Component {\n\n  state = {\n    myTrails: []\n  }\n\n  difficulty = () => {\n    let level;\n    if (this.state.myTrails.difficulty === \"blue\") {\n      level = \"Blue\";\n    } else if (this.state.trail.difficulty === \"greenBlue\") {\n      level = \"Intermediate Green\";\n    } else if (this.state.trail.difficulty === \"blueBlack\") {\n      level = \"Intermediate Blue\";\n    } else if (this.state.trail.difficulty === \"black\") {\n      level = \"Black ðŸ”·\";\n    } else if (this.state.trail.difficulty === \"dblack\") {\n      level = \"Double Black ðŸ”·\";\n    } else if (this.state.trail.difficulty === \"green\") {\n      level = \"Easy\"\n    } else {\n      level = \"N/A\"\n    }\n    return level;\n  }\n\n  createdAt = (date) => {\n   let d = new Date(date)\n   let monthNames = [\n     \"Jan\", \"Feb\", \"Mar\",\n     \"Apr\", \"May\", \"Jun\", \"Jul\",\n     \"Aug\", \"Sep\", \"Oct\",\n     \"Nov\", \"Dec\"\n   ];\n\n   let day = d.getDate();\n   let monthIndex = d.getMonth();\n   let year = d.getFullYear();\n\n   return day + ' ' + monthNames[monthIndex] + ' ' + year;\n }\ncomponentDidMount() {\n  fetch(\"http://localhost:3000/api/v1/completed_trails\")\n  .then(resp => resp.json())\n  .then(favTrails => this.setState({\n    myTrails: favTrails.filter(trail => trail.user_id == this.props.currentUser.id)\n  }))\n}\n\n\n  deleteAccount = (userId) => {\n    let id = userId\n    id = `${this.props.currentUser.id}`\n    console.log(id)\n    fetch(`http://localhost:3000/api/v1/users/${id}`, {\n      method: \"DELETE\",\n      headers: {\n        'Content-Type': \"application/json\",\n        'Accept': \"application/json\"\n      },\n      body: JSON.stringify({\n        id: id\n        })\n      })\n    .then(resp => resp.json())\n    .then(data => this.props.logout(data))\n    this.props.history.push(\"/login\")\n  }\n\n  // displayFavoriteTrail = () => {\n  //   {this.state.myTrails.map(data =>\n  //     <Card>\n  //       <Image src=`${data.trail_image}` wrapped ui={false} />\n  //       <Card.Content>\n  //         <Card.Header>{data.trail_name}</Card.Header>\n  //         <Card.Meta>Joined in 2016</Card.Meta>\n  //         <Card.Description>\n  //           Daniel is a comedian living in Nashville.\n  //         </Card.Description>\n  //       </Card.Content>\n  //     </Card>\n  //   )}\n  // }\n\n\n  render() {\n    console.log(this.props.currentUser)\n    console.log(this.state.myTrails)\n   const currentUser = this.props.currentUser;\n\n    let userImage;\n    if (!!currentUser.image) {\n      userImage = currentUser.image;\n    } else {\n      userImage = process.env.PUBLIC_URL + '/images/no_image.png';\n    }\n    return (\n      <div>\n        <div style={{textAlign: \"center\"}}>\n          <div className='profile-container'>\n            <img className=\"profile-pic\" src={ userImage } alt=\"Add-a-profile-pic\" />\n            <div className='user-data'>\n              <div className=\"name\">{currentUser.name}</div><br></br>\n              <div className=\"user-location\" > ðŸŒŽ { currentUser.location } </div><br></br>\n              <div className=\"user-registration-date\">Member since: { this.createdAt(currentUser.created_at) }</div>\n              <br></br>\n              <Card.Content extra>\n                <div className='ui two buttons'>\n                  <Button basic color='green'>\n                    Update Account\n                  </Button>\n                  <Button basic color='red' onClick={(e) => this.deleteAccount(e)}>\n                   Delete Account\n                  </Button>\n                </div>\n              </Card.Content>\n              <h3>My favorite Trails</h3>\n            </div>\n          </div>\n        </div>\n        {this.state.myTrails.map(data =>\n          <div class=\"ui centered card\">\n              <Card\n                image={data.trail_image}\n                header={data.trail_name}\n                meta={this.difficulty()}\n              />\n            <Button inverted> Delete </Button>\n        </div>)}\n      </div>\n    )\n  }\n}\n\nexport default Profile;\n"]},"metadata":{},"sourceType":"module"}